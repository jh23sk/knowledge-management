(self["webpackChunkvue_app"]=self["webpackChunkvue_app"]||[]).push([[996],{5195:function(e,t,a){"use strict";function l(e,t){if(""==t||null==t)return"未選択";const a=e.find((e=>e.id===t));return a?a.name:""}function o(e,t){const a=e.filter((e=>e.categoryId==t));return a}function s(e){const t=new Date(e);if(isNaN(t.getTime())||""==e||null==e)return e;const a=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),o=String(t.getDate()).padStart(2,"0"),s=String(t.getHours()).padStart(2,"0"),d=String(t.getMinutes()).padStart(2,"0");return`${a}-${l}-${o} ${s}:${d}`}a.d(t,{YC:function(){return l},Yq:function(){return s},zb:function(){return o}})},1169:function(e,t,a){"use strict";var l=a(292),o=a(8950),s=a(2353);o.Yv.add(s.br3,s.DN2,s.q9p,s.yBu,s.q_k,s.mGv,s.LFz,s.yLS,s.jkA,s.pS3,s.k6j,s.ReK,s.Jyw),t.A=l.gc},395:function(e,t,a){"use strict";a(5524);var l=a(7768),o=a(1920),s=a(5741);const d=(0,l.$N)({components:o,directives:s,icons:{iconfont:"mdi"}});t.A=d},9996:function(e,t,a){"use strict";a.d(t,{A:function(){return F}});var l=a(6768),o=a(5130);const s=(0,l.Lk)("p",null,"カテゴリーの新規追加・削除・名称変更を行います。",-1),d={class:"mb-3"},n=(0,l.Lk)("label",{class:"form-label m-1"},"カテゴリー",-1),r={key:0,class:"d-flex align-items-center"},c=(0,l.Lk)("label",{class:"form-label m-1"},"サブカテゴリー",-1),i={key:0,class:"d-flex align-items-center"};function u(e,t,a,u,g,b){const m=(0,l.g2)("v-btn"),p=(0,l.g2)("SelectCategory"),k=(0,l.g2)("SelectSubcategory"),f=(0,l.g2)("v-card-text"),h=(0,l.g2)("v-spacer"),y=(0,l.g2)("v-card-actions"),C=(0,l.g2)("v-card"),v=(0,l.g2)("v-dialog");return(0,l.uX)(),(0,l.Wv)(v,{"max-width":"500"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(m,(0,l.v6)(e,{color:"rgb(247, 240, 179)",text:"カテゴリー操作",variant:"flat",class:"mr-1"}),null,16)])),default:(0,l.k6)((({isActive:e})=>[(0,l.bF)(C,{title:"カテゴリー操作"},{default:(0,l.k6)((()=>[(0,l.bF)(f,{class:"pt-3"},{default:(0,l.k6)((()=>[s,(0,l.Lk)("div",d,[n,(0,l.bF)(p,{modelValue:g.addedMst.categoryId,"onUpdate:modelValue":t[0]||(t[0]=e=>g.addedMst.categoryId=e),categories:g.editingCategories,addAble:!0,models:g.addedMst,onChange:t[1]||(t[1]=e=>{g.addedMst.subcategoryId="",g.addedMst.subcategoryName="",g.addedMst.categoryName=b.getCategoryName(g.addedMst.categoryId)})},null,8,["modelValue","categories","models"]),g.addedMst.categoryId?((0,l.uX)(),(0,l.CE)("div",r,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>g.addedMst.categoryName=e),class:"form-control",placeholder:"名称を入力してください"},null,512),[[o.Jo,g.addedMst.categoryName]]),"new"!=g.addedMst.categoryId?((0,l.uX)(),(0,l.Wv)(m,{key:0,text:"削除",onClick:t[3]||(t[3]=e=>b.deleteCategoryItem(1,g.addedMst.categoryId)),variant:"outlined",color:"purple"})):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)]),(0,l.Lk)("div",null,[c,(0,l.bF)(k,{modelValue:g.addedMst.subcategoryId,"onUpdate:modelValue":t[4]||(t[4]=e=>g.addedMst.subcategoryId=e),subcategories:g.editingSubcategories,addAble:!0,models:g.addedMst,onChange:t[5]||(t[5]=e=>g.addedMst.subcategoryName=b.getSubcategoryName(g.addedMst.subcategoryId))},null,8,["modelValue","subcategories","models"]),g.addedMst.subcategoryId?((0,l.uX)(),(0,l.CE)("div",i,[(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>g.addedMst.subcategoryName=e),class:"form-control",placeholder:"名称を入力してください"},null,512),[[o.Jo,g.addedMst.subcategoryName]]),"new"!=g.addedMst.subcategoryId?((0,l.uX)(),(0,l.Wv)(m,{key:0,text:"削除",onClick:t[7]||(t[7]=e=>b.deleteCategoryItem(2,g.addedMst.subcategoryId)),variant:"outlined",color:"purple"})):(0,l.Q3)("",!0)])):(0,l.Q3)("",!0)])])),_:1}),(0,l.bF)(y,null,{default:(0,l.k6)((()=>[(0,l.bF)(h),(0,l.bF)(m,{text:"キャンセル",onClick:t=>e.value=!1,variant:"outlined"},null,8,["onClick"]),(0,l.bF)(m,{text:"カテゴリーリストに反映",onClick:t=>{e.value=b.updateMst()},variant:"outlined",color:"purple"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:1})}var g=a(6587),b=a.n(g),m=a(2664),p=a(9122),k=a.n(p),f=a(7965),h=a(5195),y=a(5309),C=a(9832),v={name:"cmp-btn-add-category",components:{SelectCategory:y.A,SelectSubcategory:C.A},props:{categories:{},subcategories:{},knowledgesSaved:{},editingknowledges:{},endpoint:String,csrfToken:String,saveBtnName:String},data(){return{addedMst:{categoryId:"",subcategoryId:""},editingCategories:[],editingSubcategories:[]}},methods:{getCategoryName(e){return h.YC(this.editingCategories,e)},getSubcategoryName(e){return h.YC(this.editingSubcategories,e)},createSubCategories(e){return h.zb(this.editingSubcategories,e)},async deleteCategoryItem(e,t){const a=1==e?"カテゴリー":"サブカテゴリー";if(confirm("この"+a+"を削除しますか？")){if(1==e&&this.createSubCategories(t).length>0)return alert("配下のサブカテゴリーが存在するため削除できません。"),!0;var l={};l=1==e?{categoryId:t,subcategoryId:""}:{categoryId:"",subcategoryId:t};const o=await m.A.post("/"+this.endpoint+"/searchKnowledge",k().stringify({searchCondition:JSON.stringify(l)}),{headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRF-TOKEN":this.csrfToken},withCredentials:!0}),s=o.data.knowledges,d=this.editingknowledges.filter((a=>(1==e?a.categoryId:a.subcategoryId)==t));return s.length>0||d.length>0?(alert("ナレッジに設定中のため削除できません。"),!0):(1==e?this.editingCategories=this.editingCategories.filter((e=>e.id!=t)):this.editingSubcategories=this.editingSubcategories.filter((e=>e.id!=t)),1==e?this.addedMst=[]:(this.addedMst.subcategoryId="",this.addedMst.subcategoryName=""),alert(a+"を削除しました。保存ボタンで保存してください。"),!1)}},updateMst(){const e="new"==this.addedMst.categoryId,t="new"==this.addedMst.subcategoryId,a=!e&&this.getCategoryName(this.addedMst.categoryId)!=this.addedMst.categoryName,l=!t&&this.getSubcategoryName(this.addedMst.subcategoryId)!=this.addedMst.subcategoryName;if(!e&&!a&&!t&&!l)return alert("このカテゴリーは追加済です。"),!0;if(this.addedMst.categoryId&&!this.addedMst.categoryName||this.addedMst.subcategoryId&&!this.addedMst.subcategoryName)return alert("名称を入力してください。"),!0;if(e&&(this.addedMst.categoryId=(0,f.A)(),this.editingCategories.unshift({id:this.addedMst.categoryId,name:this.addedMst.categoryName})),t&&(this.addedMst.subcategoryId=(0,f.A)(),this.editingSubcategories.unshift({id:this.addedMst.subcategoryId,name:this.addedMst.subcategoryName,categoryId:this.addedMst.categoryId})),a){const e=this.addedMst.categoryId,t=this.addedMst.categoryName;b().each(this.editingCategories,(function(a,l){l.id!=e||(l.name=t)}))}if(l){const e=this.addedMst.subcategoryId,t=this.addedMst.subcategoryName;b().each(this.editingSubcategories,(function(a,l){l.id!=e||(l.name=t)}))}return this.$emit("call-parent-set-category",this.editingCategories,this.editingSubcategories),alert("カテゴリーリストに反映しました。"+this.saveBtnName+"ボタンクリック時に保存されます。"),this.addedMst=[],!1}},created(){this.editingCategories=this.categories,this.editingSubcategories=this.subcategories}},w=a(1241);const S=(0,w.A)(v,[["render",u]]);var F=S},9936:function(e,t,a){"use strict";a.d(t,{A:function(){return i}});var l=a(6768);const o=e=>((0,l.Qi)("data-v-3e53f720"),e=e(),(0,l.jt)(),e),s=o((()=>(0,l.Lk)("div",null,[(0,l.Lk)("p",{class:"my-2 text-black-50"},[(0,l.eW)(" Copyright © 2024 Kotomi Sasaki. "),(0,l.Lk)("br",{class:"sp-only"}),(0,l.eW)("All Rights Reserved. ")])],-1)));function d(e,t,a,o,d,n){const r=(0,l.g2)("v-footer");return(0,l.uX)(),(0,l.Wv)(r,{class:"d-flex align-center justify-center"},{default:(0,l.k6)((()=>[s])),_:1})}var n={name:"cmp-footer",props:{}},r=a(1241);const c=(0,r.A)(n,[["render",d],["__scopeId","data-v-3e53f720"]]);var i=c},1565:function(e,t,a){"use strict";a.d(t,{A:function(){return p}});var l=a(6768);const o=(0,l.Lk)("a",{href:"/top"},"ナレッジ管理ツール",-1),s={type:"button",class:"btn btn-light mr-1"},d={href:"/question"},n={type:"button",class:"btn btn-light mr-1"},r={href:"/personal"},c={type:"button",class:"btn btn-light mr-1"},i={href:"/logout"};function u(e,t,a,u,g,b){const m=(0,l.g2)("v-app-bar-title"),p=(0,l.g2)("FontAwesomeIcon"),k=(0,l.g2)("v-app-bar");return(0,l.uX)(),(0,l.Wv)(k,{app:""},{append:(0,l.k6)((()=>[(0,l.Lk)("button",s,[(0,l.Lk)("a",d,[(0,l.bF)(p,{icon:"fa-solid fa-comments",class:"mr-1"}),(0,l.eW)("Q&A ")])]),(0,l.Lk)("button",n,[(0,l.Lk)("a",r,[(0,l.bF)(p,{icon:"fa-solid fa-cube",class:"mr-1"}),(0,l.eW)("個人ナレッジ ")])]),(0,l.Lk)("button",c,[(0,l.Lk)("a",i,[(0,l.bF)(p,{icon:"fa-solid fa-right-from-bracket",class:"mr-1"}),(0,l.eW)("ログアウト ")])])])),default:(0,l.k6)((()=>[(0,l.bF)(m,{class:"text-left pc-only"},{default:(0,l.k6)((()=>[o])),_:1})])),_:1})}var g={name:"cmp-nav-bar",props:{}},b=a(1241);const m=(0,b.A)(g,[["render",u]]);var p=m},3298:function(e,t,a){"use strict";a.d(t,{A:function(){return G}});var l=a(6768),o=a(5130);const s={key:0},d=(0,l.Lk)("label",{class:"form-label"},"カテゴリー",-1),n=(0,l.Lk)("label",{class:"form-label"},"サブカテゴリー",-1),r={key:1},c=(0,l.Lk)("label",{class:"form-label"},"カテゴリー",-1),i=(0,l.Lk)("label",{class:"form-label"},"サブカテゴリー",-1),u={key:0},g=(0,l.Lk)("label",{class:"form-label"},"質問",-1),b=(0,l.Lk)("label",{class:"form-label"},"質問日時",-1),m={class:"d-flex align-items-center"},p=(0,l.Lk)("div",{class:"mx-1"},"〜",-1),k=(0,l.Lk)("label",{class:"form-label"},"質問者",-1),f={key:1},h=(0,l.Lk)("label",{class:"form-label"},"質問",-1),y=(0,l.Lk)("label",{class:"form-label"},"質問日時",-1),C={class:"d-flex align-items-center"},v=(0,l.Lk)("div",{class:"mx-1"},"〜",-1),w=(0,l.Lk)("label",{class:"form-label"},"質問者",-1),S={key:0},F=(0,l.Lk)("label",null,"回答",-1),I=(0,l.Lk)("label",null,"回答日時",-1),V={class:"d-flex align-items-center"},x=(0,l.Lk)("div",{class:"mx-1"},"〜",-1),_=(0,l.Lk)("label",null,"回答者",-1),L={key:1},U=(0,l.Lk)("label",null,"回答",-1),M=(0,l.Lk)("label",null,"回答日時",-1),N={class:"d-flex align-items-center"},A=(0,l.Lk)("div",{class:"mx-1"},"〜",-1),X=(0,l.Lk)("label",null,"回答者",-1),E=(0,l.Lk)("label",null,"回答有無",-1),q={key:0},D=(0,l.Lk)("label",null,"タイトル",-1),J=(0,l.Lk)("label",null,"内容",-1),W={key:1},$=(0,l.Lk)("label",null,"タイトル",-1),Q=(0,l.Lk)("label",null,"内容",-1);function z(e,t,a,z,Y,K){const B=(0,l.g2)("v-expansion-panel-title"),T=(0,l.g2)("SelectCategory"),R=(0,l.g2)("v-col"),j=(0,l.g2)("SelectSubcategory"),P=(0,l.g2)("v-row"),H=(0,l.g2)("v-container"),O=(0,l.g2)("InputDatetime"),G=(0,l.g2)("v-radio"),Z=(0,l.g2)("v-radio-group"),ee=(0,l.g2)("v-btn"),te=(0,l.g2)("v-expansion-panel-text"),ae=(0,l.g2)("v-expansion-panel"),le=(0,l.g2)("v-expansion-panels");return(0,l.uX)(),(0,l.Wv)(le,{modelValue:Y.activePanel,"onUpdate:modelValue":t[29]||(t[29]=e=>Y.activePanel=e),style:{"max-width":"900px"}},{default:(0,l.k6)((()=>[(0,l.bF)(ae,null,{default:(0,l.k6)((()=>[(0,l.bF)(B,{style:{"background-color":"rgb(223, 231, 249)"}},{default:(0,l.k6)((()=>[(0,l.eW)(" 検索条件 ")])),_:1}),(0,l.bF)(te,null,{default:(0,l.k6)((()=>[(0,l.bF)(H,{class:"px-1 py-2"},{default:(0,l.k6)((()=>[a.windowSize.x>=600?((0,l.uX)(),(0,l.CE)("span",s,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{cols:"6",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[d,(0,l.bF)(T,{modelValue:Y.searchCond.categoryId,"onUpdate:modelValue":t[0]||(t[0]=e=>Y.searchCond.categoryId=e),categories:a.categories,addAble:!1,models:Y.searchCond,onChange:t[1]||(t[1]=e=>{Y.searchCond.subcategoryId=""}),ref:"cmpSelectCategory"},null,8,["modelValue","categories","models"])])),_:1}),(0,l.bF)(R,{cols:"6",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[n,(0,l.bF)(j,{modelValue:Y.searchCond.subcategoryId,"onUpdate:modelValue":t[2]||(t[2]=e=>Y.searchCond.subcategoryId=e),subcategories:a.subcategories,addAble:!1,models:Y.searchCond,ref:"cmpSelectSubcategory"},null,8,["modelValue","subcategories","models"])])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("span",r,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[c,(0,l.bF)(T,{modelValue:Y.searchCond.categoryId,"onUpdate:modelValue":t[3]||(t[3]=e=>Y.searchCond.categoryId=e),categories:a.categories,addAble:!1,models:Y.searchCond,onChange:t[4]||(t[4]=e=>{Y.searchCond.subcategoryId=""}),ref:"cmpSelectCategory"},null,8,["modelValue","categories","models"])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[i,(0,l.bF)(j,{modelValue:Y.searchCond.subcategoryId,"onUpdate:modelValue":t[5]||(t[5]=e=>Y.searchCond.subcategoryId=e),subcategories:a.subcategories,addAble:!1,models:Y.searchCond,ref:"cmpSelectSubcategory"},null,8,["modelValue","subcategories","models"])])),_:1})])),_:1})]))])),_:1}),"question"==a.endpoint?((0,l.uX)(),(0,l.Wv)(H,{key:0,class:"px-1 py-2"},{default:(0,l.k6)((()=>[a.windowSize.x>=600?((0,l.uX)(),(0,l.CE)("span",u,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{cols:"4",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[g,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>Y.searchCond.question=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.question]])])),_:1}),(0,l.bF)(R,{cols:"6",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[b,(0,l.Lk)("div",m,[(0,l.bF)(O,{modelValue:Y.searchCond.questionDateStt,"onUpdate:modelValue":t[7]||(t[7]=e=>Y.searchCond.questionDateStt=e),width:"45%"},null,8,["modelValue"]),p,(0,l.bF)(O,{modelValue:Y.searchCond.questionDateEnd,"onUpdate:modelValue":t[8]||(t[8]=e=>Y.searchCond.questionDateEnd=e),width:"45%"},null,8,["modelValue"])])])),_:1}),(0,l.bF)(R,{cols:"2",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[k,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>Y.searchCond.questionUserName=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.questionUserName]])])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("span",f,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[h,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>Y.searchCond.question=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.question]])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[y,(0,l.Lk)("div",C,[(0,l.bF)(O,{modelValue:Y.searchCond.questionDateStt,"onUpdate:modelValue":t[11]||(t[11]=e=>Y.searchCond.questionDateStt=e),width:"45%"},null,8,["modelValue"]),v])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[(0,l.bF)(O,{modelValue:Y.searchCond.questionDateEnd,"onUpdate:modelValue":t[12]||(t[12]=e=>Y.searchCond.questionDateEnd=e),width:"45%"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[w,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>Y.searchCond.questionUserName=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.questionUserName]])])),_:1})])),_:1})]))])),_:1})):(0,l.Q3)("",!0),"question"==a.endpoint?((0,l.uX)(),(0,l.Wv)(H,{key:1,class:"px-1 py-2"},{default:(0,l.k6)((()=>[a.windowSize.x>=600?((0,l.uX)(),(0,l.CE)("span",S,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{cols:"4",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[F,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[14]||(t[14]=e=>Y.searchCond.answer=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.answer]])])),_:1}),(0,l.bF)(R,{cols:"6",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[I,(0,l.Lk)("div",V,[(0,l.bF)(O,{modelValue:Y.searchCond.answerDateStt,"onUpdate:modelValue":t[15]||(t[15]=e=>Y.searchCond.answerDateStt=e),width:"45%"},null,8,["modelValue"]),x,(0,l.bF)(O,{modelValue:Y.searchCond.answerDateEnd,"onUpdate:modelValue":t[16]||(t[16]=e=>Y.searchCond.answerDateEnd=e),width:"45%"},null,8,["modelValue"])])])),_:1}),(0,l.bF)(R,{cols:"2",class:"pb-1 text-left"},{default:(0,l.k6)((()=>[_,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>Y.searchCond.answerUserName=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.answerUserName]])])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("span",L,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[U,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>Y.searchCond.answer=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.answer]])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[M,(0,l.Lk)("div",N,[(0,l.bF)(O,{modelValue:Y.searchCond.answerDateStt,"onUpdate:modelValue":t[19]||(t[19]=e=>Y.searchCond.answerDateStt=e),width:"45%"},null,8,["modelValue"]),A])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[(0,l.bF)(O,{modelValue:Y.searchCond.answerDateEnd,"onUpdate:modelValue":t[20]||(t[20]=e=>Y.searchCond.answerDateEnd=e),width:"45%"},null,8,["modelValue"])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-1 text-left"},{default:(0,l.k6)((()=>[X,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[21]||(t[21]=e=>Y.searchCond.answerUserName=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.answerUserName]])])),_:1})])),_:1})]))])),_:1})):(0,l.Q3)("",!0),"question"==a.endpoint?((0,l.uX)(),(0,l.Wv)(H,{key:2,class:"px-1 pt-2 pb-0"},{default:(0,l.k6)((()=>[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"text-left pb-0"},{default:(0,l.k6)((()=>[E,(0,l.bF)(Z,{modelValue:Y.searchCond.isAnswerd,"onUpdate:modelValue":t[22]||(t[22]=e=>Y.searchCond.isAnswerd=e),inline:""},{default:(0,l.k6)((()=>[(0,l.bF)(G,{label:"全て",value:""}),(0,l.bF)(G,{label:"未回答",value:"false"}),(0,l.bF)(G,{label:"回答済",value:"true"})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1})):(0,l.Q3)("",!0),"personal"==a.endpoint?((0,l.uX)(),(0,l.Wv)(H,{key:3,class:"px-1 py-2"},{default:(0,l.k6)((()=>[a.windowSize.x>=600?((0,l.uX)(),(0,l.CE)("span",q,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{cols:"6",class:"pb-0 text-left"},{default:(0,l.k6)((()=>[D,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[23]||(t[23]=e=>Y.searchCond.title=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.title]])])),_:1}),(0,l.bF)(R,{cols:"6",class:"text-left"},{default:(0,l.k6)((()=>[J,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[24]||(t[24]=e=>Y.searchCond.content=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.content]])])),_:1})])),_:1})])):((0,l.uX)(),(0,l.CE)("span",W,[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"pb-0 text-left"},{default:(0,l.k6)((()=>[$,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[25]||(t[25]=e=>Y.searchCond.title=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.title]])])),_:1})])),_:1}),(0,l.bF)(P,{class:"mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"text-left"},{default:(0,l.k6)((()=>[Q,(0,l.bo)((0,l.Lk)("input",{"onUpdate:modelValue":t[26]||(t[26]=e=>Y.searchCond.content=e),class:"form-control"},null,512),[[o.Jo,Y.searchCond.content]])])),_:1})])),_:1})]))])),_:1})):(0,l.Q3)("",!0),(0,l.bF)(H,{class:"px-1 pt-0 pb-3 mt-1"},{default:(0,l.k6)((()=>[(0,l.bF)(P,null,{default:(0,l.k6)((()=>[(0,l.bF)(R,{class:"text-right"},{default:(0,l.k6)((()=>[(0,l.bF)(ee,{text:"検索条件クリア",onClick:t[27]||(t[27]=e=>K.condClear()),variant:"tonal",color:"gray",class:"mr-1"}),(0,l.bF)(ee,{text:"検索",id:"searchButton",onClick:t[28]||(t[28]=e=>K.search()),variant:"tonal",color:"primary"})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},8,["modelValue"])}var Y=a(5309),K=a(9832);function B(e,t,a,o,s,d){const n=(0,l.g2)("VueDatePicker");return(0,l.uX)(),(0,l.Wv)(n,{modelValue:s.date,"onUpdate:modelValue":t[0]||(t[0]=e=>s.date=e),format:"yyyy-MM-dd HH:mm","model-type":"format","enable-time-picker":!0,"week-start":"0",locale:"ja",placeholder:"日付を選択","select-text":"選択","cancel-text":"ｷｬﾝｾﾙ","show-now-button":!0,"now-button-label":"現在を選択","auto-position":!1,style:{"max-width":"210px"}},null,8,["modelValue"])}var T={name:"cmp-input-datetime",props:{propDate:String},data(){return{date:null}},watch:{date(e){this.$emit("update:propDate",e)}}},R=a(1241);const j=(0,R.A)(T,[["render",B]]);var P=j,H={name:"cmp-search-cond",components:{SelectCategory:Y.A,SelectSubcategory:K.A,InputDatetime:P},props:{categories:[],subcategories:[],endpoint:String,windowSize:{}},data(){return{activePanel:[0],searchCond:{}}},methods:{search(){this.$emit("call-parent-search",this.searchCond)},condClear(){this.initSearchCond(),this.$refs.cmpSelectCategory.setCategoryId(this.searchCond.categoryId),this.$refs.cmpSelectSubcategory.setSubcategoryId(this.searchCond.subcategoryId)},initSearchCond(){"question"==this.endpoint?this.searchCond={categoryId:"",subcategoryId:"",isAnswerd:""}:this.searchCond={categoryId:"",subcategoryId:""}}},mounted(){this.initSearchCond()},watch:{}};const O=(0,R.A)(H,[["render",z]]);var G=O},5309:function(e,t,a){"use strict";a.d(t,{A:function(){return m}});var l=a(6768),o=a(4232),s=a(5130);const d=(0,l.Lk)("option",{value:""},"未選択",-1),n={key:0,value:"new"},r=["value","selected"];function c(e,t,a,c,i,u){return(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.categoryId=e),class:"form-select"},[d,a.addAble?((0,l.uX)(),(0,l.CE)("option",n,"新規追加")):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(a.categories,(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id,selected:e.id==i.categoryId},(0,o.v_)(u.getCategoryName(e.id)),9,r)))),128))],512)),[[s.u1,i.categoryId]])}var i=a(5195),u={name:"cmp-select-category",props:{categories:[],models:[{catgoryId:String}],addAble:Boolean},data(){return{categoryId:""}},methods:{getCategoryName(e){var t=this.categories;return i.YC(t,e)},setCategoryId(e){this.categoryId=e}},created(){this.categoryId=this.models.categoryId},watch:{categoryId(e){this.$emit("update:categoryId",e)}}},g=a(1241);const b=(0,g.A)(u,[["render",c]]);var m=b},9832:function(e,t,a){"use strict";a.d(t,{A:function(){return m}});var l=a(6768),o=a(4232),s=a(5130);const d=(0,l.Lk)("option",{value:"",selected:""},"末選択",-1),n={key:0,value:"new"},r=["value","selected"];function c(e,t,a,c,i,u){return(0,l.bo)(((0,l.uX)(),(0,l.CE)("select",{"onUpdate:modelValue":t[0]||(t[0]=e=>i.subcategoryId=e),class:"form-select"},[d,a.addAble?((0,l.uX)(),(0,l.CE)("option",n,"新規追加")):(0,l.Q3)("",!0),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(u.createSubCategories(),(e=>((0,l.uX)(),(0,l.CE)("option",{key:e.id,value:e.id,selected:e.id==i.subcategoryId},(0,o.v_)(u.getSubcategoryName(e.id)),9,r)))),128))],512)),[[s.u1,i.subcategoryId]])}var i=a(5195),u={name:"cmp-select-category",props:{subcategories:[],models:[{catgoryId:String,subcategoryId:String}],addAble:Boolean},data(){return{subcategoryId:""}},methods:{getSubcategoryName(e){const t=this.createSubCategories();return i.YC(t,e)},createSubCategories(){return i.zb(this.subcategories,this.models.categoryId)},setSubcategoryId(e){this.subcategoryId=e}},created(){this.subcategoryId=this.models.subcategoryId},watch:{subcategoryId(e){this.$emit("update:subcategoryId",e)}}},g=a(1241);const b=(0,g.A)(u,[["render",c]]);var m=b},4640:function(e,t,a){"use strict";a.d(t,{A:function(){return E}});var l=a(6768),o=a(4232),s=a(5130);const d={key:0,class:"mb-2 d-flex justify-content-end"},n={key:0},r={hidden:""},c={key:0},i={key:1},u={key:0},g={key:1},b=["onUpdate:modelValue"],m=["onUpdate:modelValue"],p={class:"form-label"},k={class:"form-label"},f=["onUpdate:modelValue"],h=(0,l.Lk)("label",{class:"form-label"},"回答",-1),y=["onUpdate:modelValue"],C=["onUpdate:modelValue"],v=["onUpdate:modelValue"],w=["onUpdate:modelValue"],S=["onUpdate:modelValue"];function F(e,t,a,F,I,V){const x=(0,l.g2)("ButtonCategoryEdit"),_=(0,l.g2)("FontAwesomeIcon"),L=(0,l.g2)("v-btn"),U=(0,l.g2)("v-btn-toggle"),M=(0,l.g2)("SelectCategory"),N=(0,l.g2)("SelectSubcategory"),A=(0,l.g2)("v-card-text"),X=(0,l.g2)("v-spacer"),E=(0,l.g2)("v-card-actions"),q=(0,l.g2)("v-card"),D=(0,l.g2)("v-dialog"),J=(0,l.g2)("v-data-table");return(0,l.uX)(),(0,l.CE)(l.FK,null,["personal"==a.endpoint?((0,l.uX)(),(0,l.CE)("div",d,[(0,l.Lk)("span",null,[I.editable?((0,l.uX)(),(0,l.CE)("span",n,[(0,l.bF)(x,{categories:I.editingCategories,subcategories:I.editingSubcategories,knowledgesSaved:I.knowledgesSaved,editingknowledges:I.editingknowledges,endpoint:a.endpoint,csrfToken:a.csrfToken,saveBtnName:"保存",onCallParentSetCategory:V.setCategory},null,8,["categories","subcategories","knowledgesSaved","editingknowledges","endpoint","csrfToken","onCallParentSetCategory"]),(0,l.bF)(L,{color:"primary",onClick:t[0]||(t[0]=e=>V.addRow()),class:"mr-1"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{icon:"fa-solid fa-circle-plus",class:"mr-1"}),(0,l.eW)("行追加 ")])),_:1}),(0,l.bF)(L,{color:"primary",onClick:t[1]||(t[1]=e=>V.deleteRow()),class:"mr-1"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{icon:"fa-solid fa-circle-minus",class:"mr-1"}),(0,l.eW)("行削除 ")])),_:1}),(0,l.bF)(L,{color:"primary",onClick:t[2]||(t[2]=e=>V.save()),class:"mr-1"},{default:(0,l.k6)((()=>[(0,l.bF)(_,{icon:"fa-solid fa-floppy-disk",class:"mr-1"}),(0,l.eW)("保存 ")])),_:1})])):(0,l.Q3)("",!0),(0,l.bF)(U,{modelValue:I.toggle,"onUpdate:modelValue":t[5]||(t[5]=e=>I.toggle=e),color:"primary",rounded:"xl",mandatory:""},{default:(0,l.k6)((()=>[(0,l.bF)(L,{value:"editMode",onClick:t[3]||(t[3]=e=>{I.editable=!0})},{default:(0,l.k6)((()=>[(0,l.bF)(_,{icon:"fa-solid fa-pen-to-square",class:"mr-1"}),(0,l.eW)("編集モード ")])),_:1}),(0,l.bF)(L,{value:"viewMode",onClick:t[4]||(t[4]=e=>{I.editable=!1})},{default:(0,l.k6)((()=>[(0,l.bF)(_,{icon:"fa-solid fa-book-open",class:"mr-1"}),(0,l.eW)("閲覧モード ")])),_:1})])),_:1},8,["modelValue"])])])):(0,l.Q3)("",!0),(0,l.bF)(q,{flat:""},{default:(0,l.k6)((()=>[(0,l.bF)(J,{headers:a.headers,items:I.editingknowledges,search:I.search,density:e.compact,"items-per-page":100,"items-per-page-options":e.pages,"items-per-page-text":"表示行数","no-data-text":"データがありません。",modelValue:I.selected,"onUpdate:modelValue":t[6]||(t[6]=e=>I.selected=e),"item-value":"id","show-select":I.editable},{["item.id"]:(0,l.k6)((({item:e})=>[(0,l.Lk)("span",r,(0,o.v_)(e.id),1)])),["item.categoryId"]:(0,l.k6)((({item:e})=>[I.editable?((0,l.uX)(),(0,l.CE)("span",c,[(0,l.bF)(M,{modelValue:e.categoryId,"onUpdate:modelValue":t=>e.categoryId=t,categories:I.editingCategories,addAble:!1,models:e,onChange:t=>{e.subcategoryId=""}},null,8,["modelValue","onUpdate:modelValue","categories","models","onChange"])])):((0,l.uX)(),(0,l.CE)("span",i,(0,o.v_)(V.getCategoryName(e.categoryId)),1))])),["item.subcategoryId"]:(0,l.k6)((({item:e})=>[I.editable?((0,l.uX)(),(0,l.CE)("span",u,[(0,l.bF)(N,{modelValue:e.subcategoryId,"onUpdate:modelValue":t=>e.subcategoryId=t,subcategories:I.editingSubcategories,addAble:!1,models:e},null,8,["modelValue","onUpdate:modelValue","subcategories","models"])])):((0,l.uX)(),(0,l.CE)("span",g,(0,o.v_)(V.getSubcategoryName(e.subcategoryId)),1))])),["item.question"]:(0,l.k6)((({item:e})=>[(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t=>e.question=t,class:"form-control textarea-disabled p-0",readonly:""},null,8,b),[[s.Jo,e.question]])])),["item.answer"]:(0,l.k6)((({item:e})=>[e.answerDate?(0,l.bo)(((0,l.uX)(),(0,l.CE)("textarea",{key:0,"onUpdate:modelValue":t=>e.answer=t,class:"form-control textarea-disabled p-0",readonly:""},null,8,m)),[[s.Jo,e.answer]]):((0,l.uX)(),(0,l.Wv)(D,{key:1,"max-width":"700"},{activator:(0,l.k6)((({props:e})=>[(0,l.bF)(L,(0,l.v6)({text:"回答する"},e,{color:"rgb(239, 247, 201)",block:""}),null,16)])),default:(0,l.k6)((({isActive:t})=>[(0,l.bF)(q,{title:"回答する"},{default:(0,l.k6)((()=>[(0,l.bF)(A,{class:"pt-3"},{default:(0,l.k6)((()=>[(0,l.Lk)("label",p,"カテゴリー「"+(0,o.v_)(V.getCategoryName(e.categoryId))+"」",1),(0,l.Lk)("label",k,"サブカテゴリー「"+(0,o.v_)(V.getSubcategoryName(e.subcategoryId))+"」に関する質問",1),(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t=>e.question=t,class:"form-control mt-1 mb-3",style:{"border-width":"1px",resize:"none"},readonly:""},null,8,f),[[s.Jo,e.question]]),h,(0,l.bo)((0,l.Lk)("textarea",{"onUpdate:modelValue":t=>e.answer=t,class:"form-control textarea-enabled"},null,8,y),[[s.Jo,e.answer]])])),_:2},1024),(0,l.bF)(E,null,{default:(0,l.k6)((()=>[(0,l.bF)(X),(0,l.bF)(L,{text:"キャンセル",onClick:e=>t.value=!1,class:"cancel",variant:"outlined"},null,8,["onClick"]),(0,l.bF)(L,{text:"回答",onClick:t=>V.answer(e),variant:"outlined",color:"purple"},null,8,["onClick"])])),_:2},1024)])),_:2},1024)])),_:2},1024))])),["item.questionDate"]:(0,l.k6)((({item:e})=>[(0,l.Lk)("span",null,(0,o.v_)(V.formatDate(e.questionDate)),1)])),["item.questionUserName"]:(0,l.k6)((({item:e})=>[(0,l.Lk)("span",null,(0,o.v_)(e.questionUserName),1)])),["item.answerDate"]:(0,l.k6)((({item:e})=>[(0,l.Lk)("span",null,(0,o.v_)(V.formatDate(e.answerDate)),1)])),["item.answerUserName"]:(0,l.k6)((({item:e})=>[(0,l.Lk)("span",null,(0,o.v_)(e.answerUserName),1)])),["item.title"]:(0,l.k6)((({item:e})=>[I.editable?(0,l.bo)(((0,l.uX)(),(0,l.CE)("textarea",{key:0,"onUpdate:modelValue":t=>e.title=t,class:"form-control textarea-enabled"},null,8,C)),[[s.Jo,e.title]]):(0,l.bo)(((0,l.uX)(),(0,l.CE)("textarea",{key:1,"onUpdate:modelValue":t=>e.title=t,class:"form-control textarea-disabled p-0",readonly:""},null,8,v)),[[s.Jo,e.title]])])),["item.content"]:(0,l.k6)((({item:e})=>[I.editable?(0,l.bo)(((0,l.uX)(),(0,l.CE)("textarea",{key:0,"onUpdate:modelValue":t=>e.content=t,class:"form-control textarea-enabled"},null,8,w)),[[s.Jo,e.content]]):(0,l.bo)(((0,l.uX)(),(0,l.CE)("textarea",{key:1,"onUpdate:modelValue":t=>e.content=t,class:"form-control textarea-disabled p-0",readonly:""},null,8,S)),[[s.Jo,e.content]])])),_:2},1032,["headers","items","search","density","items-per-page-options","modelValue","show-select"])])),_:1})],64)}var I=a(6587),V=a.n(I),x=a(7965),_=a(5195),L=a(9996),U=a(5309),M=a(9832),N={name:"cmp-footer",components:{ButtonCategoryEdit:L.A,SelectCategory:U.A,SelectSubcategory:M.A},props:{headers:[{key:String,title:String,align:String,sortable:String,width:String}],endpoint:String,csrfToken:String},data(){return{search:"",toggle:"viewMode",selected:[],editingCategories:[],editingSubcategories:[],editingknowledges:[],knowledgesSaved:[],addedMst:{categoryId:"",subcategoryId:"",categoryName:"",subcategoryName:""},editable:!1,updateFlg:!1}},methods:{setCategory(e,t){this.editingCategories=e,this.editingSubcategories=t},setKnowledge(e){this.editingknowledges=e,this.knowledgesSaved=e},formatDate(e){return _.Yq(e)},createSubCategories(e){return _.zb(this.editingSubcategories,e)},getCategoryName(e){return _.YC(this.editingCategories,e)},getSubcategoryName(e){return _.YC(this.editingSubcategories,e)},addRow(){this.editingknowledges.unshift({id:(0,x.A)(),categoryId:"",subcategoryId:"",title:"",content:""})},removeSelectedKnowledges(){return this.selected.forEach((e=>{this.editingknowledges=this.editingknowledges.filter((t=>t.id!=e))})),this.selected=[],this.editingknowledges},deleteRow(){0==this.selected.length?alert("削除したい行を選択してください。"):confirm("選択した行を削除してよろしいですか？")&&(this.editingknowledges=this.removeSelectedKnowledges(),alert("選択した行を削除しました。保存ボタンで保存してください。"))},async save(){this.$emit("call-parent-save",this.editingCategories,this.editingSubcategories,this.editingknowledges,this.selected.length>0)},async answer(e){if(!e.answer)return alert("回答を入力してください。"),!0;this.$emit("call-parent-answer",e),V()(".cancel").trigger("click")}},watch:{},created(){console.log("knowledgetableのcreated")},mounted(){console.log("mountedが呼ばれました")},computed:{}},A=a(1241);const X=(0,A.A)(N,[["render",F]]);var E=X},2634:function(){}}]);
//# sourceMappingURL=chunk-common.js.map