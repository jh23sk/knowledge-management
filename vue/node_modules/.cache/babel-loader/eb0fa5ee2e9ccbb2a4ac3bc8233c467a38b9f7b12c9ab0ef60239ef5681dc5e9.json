{"ast":null,"code":"import * as Utils from '../assets/function/utils.js';\nexport default {\n  name: 'cmp-select-category',\n  props: {\n    subcategories: [],\n    models: [{\n      catgoryId: String,\n      subcategoryId: String\n    }],\n    addAble: Boolean\n  },\n  data() {\n    return {\n      subcategoryId: \"\"\n    };\n  },\n  methods: {\n    /* 中カテゴリのIDに対応する名称を返す */\n    getSubcategoryName(subcategoryId) {\n      const list = this.addOptions(this.createSubCategories());\n      return Utils.getMasterName(list, subcategoryId);\n    },\n    /* 選択した大カテゴリから、中カテゴリを絞り込んで返却  */\n    createSubCategories() {\n      return Utils.createSubCategories(this.subcategories, this.models.categoryId);\n    },\n    /* 「新規追加」「未選択」をリストに追加 */\n    addOptions(subcategories) {\n      var list = subcategories;\n      /* const newOption = list.filter(item => {\n      \treturn item.id == \"new\";\n      });\n      const notSelectedOption = list.filter(item => {\n      \treturn item.id == \"\";\n      });\n      \n      if(this.addAble) {\n      \tif(newOption.length == 0) {\n      \t\tlist.unshift({ id: \"new\", name: \"新規追加\" },);\n      \t}\n      }\n      if(notSelectedOption.length == 0) {\n      \tlist.unshift({ id: \"\", name: \"未選択\" },);\n      } */\n      return list;\n    }\n  },\n  created() {\n    this.subcategoryId = this.models.subcategoryId;\n  },\n  watch: {\n    subcategoryId(newValue) {\n      this.$emit('update:subcategoryId', newValue);\n    }\n  }\n};","map":{"version":3,"names":["Utils","name","props","subcategories","models","catgoryId","String","subcategoryId","addAble","Boolean","data","methods","getSubcategoryName","list","addOptions","createSubCategories","getMasterName","categoryId","created","watch","newValue","$emit"],"sources":["/Applications/Eclipse_2024-09.app/Contents/workspace/knowledgeManagement/vue/src/components/SelectSubcategory.vue"],"sourcesContent":["<template>\n\t<!-- <select v-model=\"subcategoryId\" class=\"form-select\"> \n\t\t<option value=\"\" selected>末選択</option>\n\t\t<option value=\"new\" v-if=\"addAble\">新規追加</option>  \n\t\t<option v-for=\"subcategory in createSubCategories()\"\n\t\t\t:key=\"subcategory.id\" :value=\"subcategory.id\"\n\t\t\t:selected=\"subcategory.id == subcategoryId\"\n\t\t>\n\t\t\t{{ getSubcategoryName(subcategory.id) }}\n\t\t</option>\n\t</select> -->\n\t<select v-model=\"subcategoryId\" class=\"form-select\"> \n\t\t<option v-for=\"subcategory in addOptions(createSubCategories())\"\n\t\t\t:key=\"subcategory.id\" :value=\"subcategory.id\"\n\t\t\t:selected=\"subcategory.id == subcategoryId\"\n\t\t>\n\t\t\t{{ getSubcategoryName(subcategory.id) }}\n\t\t</option>\n\t</select>\n</template>\n\n<script>\nimport * as Utils from '../assets/function/utils.js';\n\nexport default {\n\tname: 'cmp-select-category',\n\tprops: {\n\t\tsubcategories: [],\n\t\tmodels: [\n\t\t\t{\n\t\t\t\tcatgoryId: String,\n\t\t\t\tsubcategoryId: String,\n\t\t\t}\n\t\t],\n\t\taddAble: Boolean,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tsubcategoryId: \"\",\n\t\t}\n\t},\n\tmethods: {\n\t\t/* 中カテゴリのIDに対応する名称を返す */\n\t\tgetSubcategoryName(subcategoryId) {\n\t\t\tconst list = this.addOptions(this.createSubCategories());\n\t\t\treturn Utils.getMasterName(list, subcategoryId);\n\t\t},\n\t\t/* 選択した大カテゴリから、中カテゴリを絞り込んで返却  */\n\t\tcreateSubCategories() {\n\t\t\treturn Utils.createSubCategories(this.subcategories, this.models.categoryId);\n\t\t},\n\t\t/* 「新規追加」「未選択」をリストに追加 */\n\t\taddOptions(subcategories) {\n\t\t\tvar list = subcategories;\n\t\t\t/* const newOption = list.filter(item => {\n\t\t\t\treturn item.id == \"new\";\n\t\t\t});\n\t\t\tconst notSelectedOption = list.filter(item => {\n\t\t\t\treturn item.id == \"\";\n\t\t\t});\n\t\t\t\n\t\t\tif(this.addAble) {\n\t\t\t\tif(newOption.length == 0) {\n\t\t\t\t\tlist.unshift({ id: \"new\", name: \"新規追加\" },);\n\t\t\t\t}\n\t\t\t}\n\t\t\tif(notSelectedOption.length == 0) {\n\t\t\t\tlist.unshift({ id: \"\", name: \"未選択\" },);\n\t\t\t} */\n\t\t\treturn list;\n\t\t},\n\t},\n\tcreated() {\n\t\tthis.subcategoryId = this.models.subcategoryId;\n\t},\n\twatch: {\n\t\tsubcategoryId(newValue) {\n\t\t\tthis.$emit('update:subcategoryId', newValue);\n\t\t},\n\t},\n}\n</script>\n\n<!-- <style scoped> -->\n<style>\n</style>\n"],"mappings":"AAsBA,OAAO,KAAKA,KAAI,MAAO,6BAA6B;AAEpD,eAAe;EACdC,IAAI,EAAE,qBAAqB;EAC3BC,KAAK,EAAE;IACNC,aAAa,EAAE,EAAE;IACjBC,MAAM,EAAE,CACP;MACCC,SAAS,EAAEC,MAAM;MACjBC,aAAa,EAAED;IAChB,EACA;IACDE,OAAO,EAAEC;EACV,CAAC;EACDC,IAAIA,CAAA,EAAG;IACN,OAAO;MACNH,aAAa,EAAE;IAChB;EACD,CAAC;EACDI,OAAO,EAAE;IACR;IACAC,kBAAkBA,CAACL,aAAa,EAAE;MACjC,MAAMM,IAAG,GAAI,IAAI,CAACC,UAAU,CAAC,IAAI,CAACC,mBAAmB,CAAC,CAAC,CAAC;MACxD,OAAOf,KAAK,CAACgB,aAAa,CAACH,IAAI,EAAEN,aAAa,CAAC;IAChD,CAAC;IACD;IACAQ,mBAAmBA,CAAA,EAAG;MACrB,OAAOf,KAAK,CAACe,mBAAmB,CAAC,IAAI,CAACZ,aAAa,EAAE,IAAI,CAACC,MAAM,CAACa,UAAU,CAAC;IAC7E,CAAC;IACD;IACAH,UAAUA,CAACX,aAAa,EAAE;MACzB,IAAIU,IAAG,GAAIV,aAAa;MACxB;;;;;;;;;;;;;;;MAeA,OAAOU,IAAI;IACZ;EACD,CAAC;EACDK,OAAOA,CAAA,EAAG;IACT,IAAI,CAACX,aAAY,GAAI,IAAI,CAACH,MAAM,CAACG,aAAa;EAC/C,CAAC;EACDY,KAAK,EAAE;IACNZ,aAAaA,CAACa,QAAQ,EAAE;MACvB,IAAI,CAACC,KAAK,CAAC,sBAAsB,EAAED,QAAQ,CAAC;IAC7C;EACD;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}