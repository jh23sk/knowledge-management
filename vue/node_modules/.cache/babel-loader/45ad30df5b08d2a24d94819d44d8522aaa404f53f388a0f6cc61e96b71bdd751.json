{"ast":null,"code":"//import $ from 'jquery';\n//import axios from 'axios';\nimport NavBar from './components/NavBar.vue';\n//import PanelSearchCond from './components/PanelSearchCond.vue';\n//import KnowledgeTable from './components/KnowledgeTable.vue';\nimport Footer from './components/Footer.vue';\nexport default {\n  name: 'App',\n  components: {\n    NavBar,\n    PanelSearchCond,\n    KnowledgeTable,\n    Footer\n  },\n  data() {\n    return {\n      windowSize: {\n        x: 0,\n        y: 0\n      },\n      headers: [\n      // ID列は非表示なのでデータ不要\n      {\n        key: \"categoryId\",\n        title: \"カテゴリー\",\n        align: \"center\",\n        sortable: false,\n        width: \"15%\"\n      }, {\n        key: \"subcategoryId\",\n        title: \"サブカテゴリー\",\n        align: \"center\",\n        sortable: false,\n        width: \"15%\"\n      }, {\n        key: \"title\",\n        title: \"タイトル\",\n        align: \"center\",\n        sortable: false,\n        width: \"25%\"\n      }, {\n        key: \"content\",\n        title: \"内容\",\n        align: \"center\",\n        sortable: false,\n        width: \"45%\"\n      }],\n      categories: [],\n      subcategories: [],\n      knowledges: [],\n      endpoint: \"personal\",\n      searchCond: {}\n    };\n  },\n  methods: {\n    onResize() {\n      this.windowSize = {\n        x: window.innerWidth,\n        y: window.innerHeight\n      };\n    },\n    /* カテゴリーのマスタデータを検索 */\n    searchCategoryList() {\n      //axios.get(\"/\" + this.endpoint + \"/searchCategory\")\n      //.then(response => {\n      //\tthis.categories = response.data.categories;\n      //\tthis.subcategories = response.data.subcategories;\n      //\t\n      //\t// 子コンポーネントの配列に反映\n      //\tthis.$refs.cmpKnowledge.setCategory(this.categories, this.subcategories);\n      //})\n      //.catch(error => {\n      //\tconsole.error(\"初期設定エラー:\", error);\n      //});\n    },\n    /* 「検索」押下時処理 */\n    async search(inputSearchCond) {\n      try {\n        //\tconst response = await axios.post(\"/\" + this.endpoint + \"/searchKnowledge\", inputSearchCond);\n        //\tthis.knowledges = response.data.knowledges;\n        this.searchCond = inputSearchCond;\n        //\t\n        //\t// 子コンポーネントの配列に反映\n        //\tthis.$refs.cmpKnowledge.setKnowledge(this.knowledges);\n        //\t\n      } catch (error) {\n        console.error('Error submitting data:', error);\n        alert(\"検索が失敗しました。再試行してください。\");\n      }\n    },\n    /* 「保存」押下時処理 */\n    async save(categories, subcategories, knowledges, IsSelected) {\n      console.log(categories);\n      console.log(subcategories);\n      console.log(knowledges);\n      console.log(IsSelected);\n\n      //if(IsSelected) {\n      //\tif(confirm(\"選択した行を削除し、保存してよろしいですか？\")) {\n      //\t\tknowledges = this.$refs.cmpKnowledge.removeSelectedKnowledges();\n      //\t} else {\n      //\t\treturn true;\n      //\t}\n      //}\n      //\n      //try {\n      //\tconst searchCondition = this.searchCond;\n      //\tconst response = await axios.post(\"/\" + this.endpoint + \"/save\", { categories, subcategories, knowledges, searchCondition });\n      //\tconsole.log('Data submitted:', response.data);\n      //\talert(\"保存しました。\");\n      //\t\n      //} catch (error) {\n      //\tconsole.error('Error submitting data:', error);\n      //\talert(\"保存が失敗しました。再試行してください。\");\n      //}\n    }\n  },\n  beforeCreate() {},\n  created() {\n    console.log(\"personalのcreated\");\n    this.searchCategoryList();\n    console.log(this.categories);\n  },\n  mounted() {\n    this.onResize();\n  }\n};","map":{"version":3,"names":["NavBar","Footer","name","components","PanelSearchCond","KnowledgeTable","data","windowSize","x","y","headers","key","title","align","sortable","width","categories","subcategories","knowledges","endpoint","searchCond","methods","onResize","window","innerWidth","innerHeight","searchCategoryList","search","inputSearchCond","error","console","alert","save","IsSelected","log","beforeCreate","created","mounted"],"sources":["/Applications/Eclipse_2024-09.app/Contents/workspace/knowledgeManagement/vue/src/Personal.vue"],"sourcesContent":["<template>\n\t<v-layout>\n\t\t<NavBar/>\n\t\t<v-main>\n\t\t\t<span v-resize=\"onResize\"></span>\n\t\t\t<header class=\"pt-5\">\n\t\t\t\t<h2 class=\"display-5\">個人ナレッジ</h2>\n\t\t\t</header>\n\n\t\t\t<div class=\"mx-3 mb-5\">\n\t\t\t\n\t\t\t\t<!-- 検索条件 -->\n<!--\t\t\t\t<PanelSearchCond -->\n<!--\t\t\t\t\t:categories=\"categories\" -->\n<!--\t\t\t\t\t:subcategories=\"subcategories\"-->\n<!--\t\t\t\t\t:endpoint=\"endpoint\" -->\n<!--\t\t\t\t\t@call-parent-search=\"search\"-->\n<!--\t\t\t\t/>-->\n\n\t\t\t\t<!-- ナレッジテーブル -->\n<!--\t\t\t\t<KnowledgeTable-->\n<!--\t\t\t\t\t:headers=\"headers\"-->\n<!--\t\t\t\t\t:endpoint=\"endpoint\"-->\n<!--\t\t\t\t\tref=\"cmpKnowledge\"-->\n<!--\t\t\t\t\t@call-parent-save=\"save\"-->\n<!--\t\t\t\t/>-->\n\t\t\t</div>\n\t\t\t\n\t\t\t<Footer/>\n\t\t</v-main>\n\t</v-layout>\n</template>\n\n<script>\n//import $ from 'jquery';\n//import axios from 'axios';\nimport NavBar from './components/NavBar.vue';\n//import PanelSearchCond from './components/PanelSearchCond.vue';\n//import KnowledgeTable from './components/KnowledgeTable.vue';\nimport Footer from './components/Footer.vue';\n\nexport default {\n\tname: 'App',\n\tcomponents: {\n\t\tNavBar,\n\t\tPanelSearchCond,\n\t\tKnowledgeTable,\n\t\tFooter,\n\t},\n\tdata() {\n\t\treturn {\n\t\t\twindowSize: {\n\t\t\t\tx: 0,\n\t\t\t\ty: 0,\n\t\t\t},\n\t\t\theaders: [\n\t\t\t\t// ID列は非表示なのでデータ不要\n\t\t\t\t{ key: \"categoryId\", title: \"カテゴリー\", align: \"center\", sortable: false, width: \"15%\" },\n\t\t\t\t{ key: \"subcategoryId\", title: \"サブカテゴリー\", align: \"center\", sortable: false, width: \"15%\" },\n\t\t\t\t{ key: \"title\", title: \"タイトル\", align: \"center\", sortable: false, width: \"25%\" },\n\t\t\t\t{ key: \"content\", title: \"内容\", align: \"center\", sortable: false, width: \"45%\" },\n\t\t\t],\n\t\t\tcategories: [],\n\t\t\tsubcategories: [],\n\t\t\tknowledges: [],\n\t\t\tendpoint: \"personal\",\n\t\t\tsearchCond: {},\n\t\t};\n\t},\n\tmethods: {\n\t\tonResize() {\n\t\t\tthis.windowSize = { x: window.innerWidth, y: window.innerHeight }\n\t\t},\n\t\t/* カテゴリーのマスタデータを検索 */\n\t\tsearchCategoryList() {\n\t\t\t//axios.get(\"/\" + this.endpoint + \"/searchCategory\")\n\t\t\t//.then(response => {\n\t\t\t//\tthis.categories = response.data.categories;\n\t\t\t//\tthis.subcategories = response.data.subcategories;\n\t\t\t//\t\n\t\t\t//\t// 子コンポーネントの配列に反映\n\t\t\t//\tthis.$refs.cmpKnowledge.setCategory(this.categories, this.subcategories);\n\t\t\t//})\n\t\t\t//.catch(error => {\n\t\t\t//\tconsole.error(\"初期設定エラー:\", error);\n\t\t\t//});\n\t\t},\n\t\t/* 「検索」押下時処理 */\n\t\tasync search(inputSearchCond) {\n\t\t\ttry {\n\t\t\t//\tconst response = await axios.post(\"/\" + this.endpoint + \"/searchKnowledge\", inputSearchCond);\n\t\t\t//\tthis.knowledges = response.data.knowledges;\n\t\t\t\tthis.searchCond = inputSearchCond;\n\t\t\t//\t\n\t\t\t//\t// 子コンポーネントの配列に反映\n\t\t\t//\tthis.$refs.cmpKnowledge.setKnowledge(this.knowledges);\n\t\t\t//\t\n\t\t\t} catch (error) {\n\t\t\t\tconsole.error('Error submitting data:', error);\n\t\t\t\talert(\"検索が失敗しました。再試行してください。\");\n\t\t\t}\n\t\t},\n\t\t/* 「保存」押下時処理 */\n\t\tasync save(categories, subcategories, knowledges, IsSelected) {\n\t\t\t\n\t\t\tconsole.log(categories);\n\t\t\tconsole.log(subcategories);\n\t\t\tconsole.log(knowledges);\n\t\t\tconsole.log(IsSelected);\n\t\t\t\n\t\t\t//if(IsSelected) {\n\t\t\t//\tif(confirm(\"選択した行を削除し、保存してよろしいですか？\")) {\n\t\t\t//\t\tknowledges = this.$refs.cmpKnowledge.removeSelectedKnowledges();\n\t\t\t//\t} else {\n\t\t\t//\t\treturn true;\n\t\t\t//\t}\n\t\t\t//}\n            //\n\t\t\t//try {\n\t\t\t//\tconst searchCondition = this.searchCond;\n\t\t\t//\tconst response = await axios.post(\"/\" + this.endpoint + \"/save\", { categories, subcategories, knowledges, searchCondition });\n\t\t\t//\tconsole.log('Data submitted:', response.data);\n\t\t\t//\talert(\"保存しました。\");\n\t\t\t//\t\n\t\t\t//} catch (error) {\n\t\t\t//\tconsole.error('Error submitting data:', error);\n\t\t\t//\talert(\"保存が失敗しました。再試行してください。\");\n\t\t\t//}\n\t\t},\n\t},\n\tbeforeCreate () {\n\t},\n\tcreated() {\n\t\tconsole.log(\"personalのcreated\");\n\t\tthis.searchCategoryList();\n\t\tconsole.log(this.categories);\n\t},\n\tmounted () {\n\t\tthis.onResize()\n\t},\n}\n</script>\n\n<style>\n</style>\n"],"mappings":"AAkCA;AACA;AACA,OAAOA,MAAK,MAAO,yBAAyB;AAC5C;AACA;AACA,OAAOC,MAAK,MAAO,yBAAyB;AAE5C,eAAe;EACdC,IAAI,EAAE,KAAK;EACXC,UAAU,EAAE;IACXH,MAAM;IACNI,eAAe;IACfC,cAAc;IACdJ;EACD,CAAC;EACDK,IAAIA,CAAA,EAAG;IACN,OAAO;MACNC,UAAU,EAAE;QACXC,CAAC,EAAE,CAAC;QACJC,CAAC,EAAE;MACJ,CAAC;MACDC,OAAO,EAAE;MACR;MACA;QAAEC,GAAG,EAAE,YAAY;QAAEC,KAAK,EAAE,OAAO;QAAEC,KAAK,EAAE,QAAQ;QAAEC,QAAQ,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAM,CAAC,EACrF;QAAEJ,GAAG,EAAE,eAAe;QAAEC,KAAK,EAAE,SAAS;QAAEC,KAAK,EAAE,QAAQ;QAAEC,QAAQ,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAM,CAAC,EAC1F;QAAEJ,GAAG,EAAE,OAAO;QAAEC,KAAK,EAAE,MAAM;QAAEC,KAAK,EAAE,QAAQ;QAAEC,QAAQ,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAM,CAAC,EAC/E;QAAEJ,GAAG,EAAE,SAAS;QAAEC,KAAK,EAAE,IAAI;QAAEC,KAAK,EAAE,QAAQ;QAAEC,QAAQ,EAAE,KAAK;QAAEC,KAAK,EAAE;MAAM,CAAC,CAC/E;MACDC,UAAU,EAAE,EAAE;MACdC,aAAa,EAAE,EAAE;MACjBC,UAAU,EAAE,EAAE;MACdC,QAAQ,EAAE,UAAU;MACpBC,UAAU,EAAE,CAAC;IACd,CAAC;EACF,CAAC;EACDC,OAAO,EAAE;IACRC,QAAQA,CAAA,EAAG;MACV,IAAI,CAACf,UAAS,GAAI;QAAEC,CAAC,EAAEe,MAAM,CAACC,UAAU;QAAEf,CAAC,EAAEc,MAAM,CAACE;MAAY;IACjE,CAAC;IACD;IACAC,kBAAkBA,CAAA,EAAG;MACpB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IAAA,CACA;IACD;IACA,MAAMC,MAAMA,CAACC,eAAe,EAAE;MAC7B,IAAI;QACJ;QACA;QACC,IAAI,CAACR,UAAS,GAAIQ,eAAe;QAClC;QACA;QACA;QACA;MACA,EAAE,OAAOC,KAAK,EAAE;QACfC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;QAC9CE,KAAK,CAAC,sBAAsB,CAAC;MAC9B;IACD,CAAC;IACD;IACA,MAAMC,IAAIA,CAAChB,UAAU,EAAEC,aAAa,EAAEC,UAAU,EAAEe,UAAU,EAAE;MAE7DH,OAAO,CAACI,GAAG,CAAClB,UAAU,CAAC;MACvBc,OAAO,CAACI,GAAG,CAACjB,aAAa,CAAC;MAC1Ba,OAAO,CAACI,GAAG,CAAChB,UAAU,CAAC;MACvBY,OAAO,CAACI,GAAG,CAACD,UAAU,CAAC;;MAEvB;MACA;MACA;MACA;MACA;MACA;MACA;MACS;MACT;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACD;EACD,CAAC;EACDE,YAAWA,CAAA,EAAK,CAChB,CAAC;EACDC,OAAOA,CAAA,EAAG;IACTN,OAAO,CAACI,GAAG,CAAC,kBAAkB,CAAC;IAC/B,IAAI,CAACR,kBAAkB,CAAC,CAAC;IACzBI,OAAO,CAACI,GAAG,CAAC,IAAI,CAAClB,UAAU,CAAC;EAC7B,CAAC;EACDqB,OAAMA,CAAA,EAAK;IACV,IAAI,CAACf,QAAQ,CAAC;EACf;AACD","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}